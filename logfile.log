{"errors":{"useUnifiedTopology":{}},"level":"error","message":"useUnifiedTopology: \"useUnifiedTopology\" is not a valid option to set useUnifiedTopology: \"useUnifiedTopology\" is not a valid option to set","stack":"SetOptionError: useUnifiedTopology: \"useUnifiedTopology\" is not a valid option to set\n    at Mongoose.set (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/mongoose.js:277:17)\n    at Object.<anonymous> (/Users/zbjornerud/Documents/nodeCourse2/Vidly/index.js:31:10)\n    at Module._compile (node:internal/modules/cjs/loader:1546:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1691:10)\n    at Module.load (node:internal/modules/cjs/loader:1317:32)\n    at Module._load (node:internal/modules/cjs/loader:1127:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:315:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:166:5)\n    at node:internal/main/run_main_module:30:49"}
{"errors":{"useUnifiedTopology":{}},"level":"error","message":"useUnifiedTopology: \"useUnifiedTopology\" is not a valid option to set useUnifiedTopology: \"useUnifiedTopology\" is not a valid option to set","stack":"SetOptionError: useUnifiedTopology: \"useUnifiedTopology\" is not a valid option to set\n    at Mongoose.set (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/mongoose.js:277:17)\n    at Object.<anonymous> (/Users/zbjornerud/Documents/nodeCourse2/Vidly/index.js:31:10)\n    at Module._compile (node:internal/modules/cjs/loader:1546:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1691:10)\n    at Module.load (node:internal/modules/cjs/loader:1317:32)\n    at Module._load (node:internal/modules/cjs/loader:1127:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:315:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:166:5)\n    at node:internal/main/run_main_module:30:49"}
{"errors":{"useUnifiedTopology":{}},"level":"error","message":"useUnifiedTopology: \"useUnifiedTopology\" is not a valid option to set useUnifiedTopology: \"useUnifiedTopology\" is not a valid option to set","stack":"SetOptionError: useUnifiedTopology: \"useUnifiedTopology\" is not a valid option to set\n    at Mongoose.set (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/mongoose.js:277:17)\n    at Object.<anonymous> (/Users/zbjornerud/Documents/nodeCourse2/Vidly/index.js:31:10)\n    at Module._compile (node:internal/modules/cjs/loader:1546:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1691:10)\n    at Module.load (node:internal/modules/cjs/loader:1317:32)\n    at Module._load (node:internal/modules/cjs/loader:1127:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:315:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:166:5)\n    at node:internal/main/run_main_module:30:49"}
{"level":"error","message":"Something failed miserably Something failed miserably","stack":"Error: Something failed miserably\n    at Object.<anonymous> (/Users/zbjornerud/Documents/nodeCourse2/Vidly/index.js:31:26)\n    at Module._compile (node:internal/modules/cjs/loader:1546:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1691:10)\n    at Module.load (node:internal/modules/cjs/loader:1317:32)\n    at Module._load (node:internal/modules/cjs/loader:1127:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:315:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:166:5)\n    at node:internal/main/run_main_module:30:49"}
{"level":"error","message":"Something failed miserably Something failed miserably","stack":"Error: Something failed miserably\n    at Object.<anonymous> (/Users/zbjornerud/Documents/nodeCourse2/Vidly/index.js:30:26)\n    at Module._compile (node:internal/modules/cjs/loader:1546:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1691:10)\n    at Module.load (node:internal/modules/cjs/loader:1317:32)\n    at Module._load (node:internal/modules/cjs/loader:1127:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:315:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:166:5)\n    at node:internal/main/run_main_module:30:49"}
{"level":"info","message":"Connected to MongoDB..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_test..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"error","message":"Could not get the genres. Could not get the genres.","stack":"Error: Could not get the genres.\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:9:11\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\" Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\"\n    at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schema/objectId.js:250:11)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schemaType.js:1236:12)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schemaType.js:1653:17)\n    at cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/cast.js:379:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:4868:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:2265:10)\n    at model.Query._findOne (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:2589:8)\n    at model.Query.exec (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:4412:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:46:17","stringValue":"\"1\"","value":"1","valueType":"string"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"_message":"Genre validation failed","errors":{"name":{"kind":"minlength","message":"Path `name` (`1234`) is shorter than the minimum allowed length (5).","name":"ValidatorError","path":"name","properties":{"message":"Path `name` (`1234`) is shorter than the minimum allowed length (5).","minlength":5,"path":"name","type":"minlength","value":"1234"},"value":"1234"}},"level":"error","message":"Genre validation failed: name: Path `name` (`1234`) is shorter than the minimum allowed length (5). Genre validation failed: name: Path `name` (`1234`) is shorter than the minimum allowed length (5).","stack":"ValidationError: Genre validation failed: name: Path `name` (`1234`) is shorter than the minimum allowed length (5).\n    at model.Object.<anonymous>.Document.invalidate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/document.js:3312:32)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/document.js:3073:17\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schemaType.js:1388:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"_message":"Genre validation failed","errors":{"name":{"kind":"maxlength","message":"Path `name` (`aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa`) is longer than the maximum allowed length (50).","name":"ValidatorError","path":"name","properties":{"maxlength":50,"message":"Path `name` (`aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa`) is longer than the maximum allowed length (50).","path":"name","type":"maxlength","value":"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"},"value":"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}},"level":"error","message":"Genre validation failed: name: Path `name` (`aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa`) is longer than the maximum allowed length (50). Genre validation failed: name: Path `name` (`aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa`) is longer than the maximum allowed length (50).","stack":"ValidationError: Genre validation failed: name: Path `name` (`aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa`) is longer than the maximum allowed length (50).\n    at model.Object.<anonymous>.Document.invalidate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/document.js:3312:32)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/document.js:3073:17\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schemaType.js:1388:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\" Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\"\n    at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schema/objectId.js:250:11)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schemaType.js:1236:12)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schemaType.js:1653:17)\n    at cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/cast.js:379:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:4868:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:2265:10)\n    at model.Query._findOneAndUpdate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:3362:8)\n    at model.Query.exec (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:4412:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:28:17","stringValue":"\"1\"","value":"1","valueType":"string"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\" Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\"\n    at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schema/objectId.js:250:11)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schemaType.js:1236:12)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schemaType.js:1653:17)\n    at cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/cast.js:379:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:4868:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:2265:10)\n    at model.Query._findOneAndUpdate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:3362:8)\n    at model.Query.exec (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:4412:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:28:17","stringValue":"\"1\"","value":"1","valueType":"string"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\" Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"Genre\"\n    at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schema/objectId.js:250:11)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schemaType.js:1236:12)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/schemaType.js:1653:17)\n    at cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/cast.js:379:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:4868:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:2265:10)\n    at model.Query._findOneAndUpdate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:3362:8)\n    at model.Query.exec (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/mongoose/lib/query.js:4412:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:28:17","stringValue":"\"1\"","value":"1","valueType":"string"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validateObjectId.js:7:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validateObjectId.js:7:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validateObjectId.js:7:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validateObjectId.js:7:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validateObjectId.js:7:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validateObjectId.js:7:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validateObjectId.js:7:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validateObjectId.js:7:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validateObjectId.js:7:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validateObjectId.js:7:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"error","message":"Genre.findByIdAndRemove is not a function Genre.findByIdAndRemove is not a function","stack":"TypeError: Genre.findByIdAndRemove is not a function\n    at findByIdAndRemove (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/genres.js:38:29)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validateObjectId.js:7:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/admin.js:4:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at jsonParser (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/types/json.js:113:7)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at expressInit (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/init.js:40:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at query (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/middleware/query.js:45:5)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/application.js:181:10)\n    at Server.app (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/express.js:39:9)\n    at Server.emit (node:events:520:28)\n    at parserOnIncoming (node:_http_server:1146:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:40:28)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:10:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:40:28)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:10:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:40:28)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:10:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:40:28)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:10:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:40:28)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:10:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:40:28)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:10:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:40:28)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:10:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:40:28)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:10:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:40:28)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:10:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:47:28)\n    at validator (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:11:27)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:47:28)\n    at validator (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:11:27)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:47:28)\n    at validator (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:11:27)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:47:28)\n    at validator (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:11:27)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:47:28)\n    at validator (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:11:27)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:47:28)\n    at validator (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:11:27)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:47:28)\n    at validator (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:11:27)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:47:28)\n    at validator (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:11:27)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"genre is not defined genre is not defined","stack":"ReferenceError: genre is not defined\n    at genre (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:47:28)\n    at validator (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:11:27)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"validate is not defined validate is not defined","stack":"ReferenceError: validate is not defined\n    at validate (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"Joi is not defined Joi is not defined","stack":"ReferenceError: Joi is not defined\n    at object (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:34:24)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"Joi is not defined Joi is not defined","stack":"ReferenceError: Joi is not defined\n    at object (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:34:24)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"Joi is not defined Joi is not defined","stack":"ReferenceError: Joi is not defined\n    at object (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:34:24)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"Joi is not defined Joi is not defined","stack":"ReferenceError: Joi is not defined\n    at object (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:34:24)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"Joi is not defined Joi is not defined","stack":"ReferenceError: Joi is not defined\n    at object (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:34:24)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"Joi is not defined Joi is not defined","stack":"ReferenceError: Joi is not defined\n    at object (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:34:24)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"Joi is not defined Joi is not defined","stack":"ReferenceError: Joi is not defined\n    at object (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:34:24)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"Joi is not defined Joi is not defined","stack":"ReferenceError: Joi is not defined\n    at object (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:34:24)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"Joi is not defined Joi is not defined","stack":"ReferenceError: Joi is not defined\n    at object (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:34:24)\n    at validateReturn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:9:23)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"customerId is not defined customerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:40)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"req is not defined req is not defined","stack":"ReferenceError: req is not defined\n    at Function.req [as lookup] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:60:22)\n    at lookup (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:33)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"req is not defined req is not defined","stack":"ReferenceError: req is not defined\n    at Function.req [as lookup] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:60:22)\n    at lookup (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:33)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"req is not defined req is not defined","stack":"ReferenceError: req is not defined\n    at Function.req [as lookup] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:60:22)\n    at lookup (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:33)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"req is not defined req is not defined","stack":"ReferenceError: req is not defined\n    at Function.req [as lookup] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:60:22)\n    at lookup (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:33)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"req is not defined req is not defined","stack":"ReferenceError: req is not defined\n    at Function.req [as lookup] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:60:22)\n    at lookup (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:33)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"req is not defined req is not defined","stack":"ReferenceError: req is not defined\n    at Function.req [as lookup] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:60:22)\n    at lookup (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:33)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"error","message":"req is not defined req is not defined","stack":"ReferenceError: req is not defined\n    at Function.req [as lookup] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:60:22)\n    at lookup (/Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:12:33)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/validate.js:6:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/middleware/auth.js:11:9)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:328:13)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/express/lib/router/index.js:280:10)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:238:16)\n    at done (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/zbjornerud/Documents/nodeCourse2/Vidly/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"rental.return is not a function rental.return is not a function","stack":"TypeError: rental.return is not a function\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:18:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"rental.return is not a function rental.return is not a function","stack":"TypeError: rental.return is not a function\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:18:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"rental.return is not a function rental.return is not a function","stack":"TypeError: rental.return is not a function\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:18:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"rental.return is not a function rental.return is not a function","stack":"TypeError: rental.return is not a function\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:18:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"rental.return is not a function rental.return is not a function","stack":"TypeError: rental.return is not a function\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:18:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"error","message":"moment is not defined moment is not defined","stack":"ReferenceError: moment is not defined\n    at model.diff [as return] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:68:31)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:17:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"moment is not defined moment is not defined","stack":"ReferenceError: moment is not defined\n    at model.diff [as return] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:68:31)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:17:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"moment is not defined moment is not defined","stack":"ReferenceError: moment is not defined\n    at model.diff [as return] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:68:31)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:17:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"moment is not defined moment is not defined","stack":"ReferenceError: moment is not defined\n    at model.diff [as return] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:68:31)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:17:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"moment is not defined moment is not defined","stack":"ReferenceError: moment is not defined\n    at model.diff [as return] (/Users/zbjornerud/Documents/nodeCourse2/Vidly/models/rental.js:68:31)\n    at /Users/zbjornerud/Documents/nodeCourse2/Vidly/routes/returns.js:17:18\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly_tests..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
{"level":"info","message":"Listening on port 3000..."}
{"level":"info","message":"Connected to mongodb://localhost/vidly..."}
